<views:Popup
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  xmlns:views="clr-namespace:CommunityToolkit.Maui.Views;assembly=CommunityToolkit.Maui"
  xmlns:uranium="http://schemas.enisn-projects.io/dotnet/maui/uraniumui"
  xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
  xmlns:validation="clr-namespace:InputKit.Shared.Validations;assembly=InputKit.Maui"
  x:Class="CharacomMaui.Presentation.Dialogs.CreateProjectDialog"
  x:Name="Root"
  Padding="0"
  Margin="0"
  BackgroundColor="{AppThemeBinding Light={DynamicResource Background}, Dark={DynamicResource BackgroundDark}}">

  <Border StrokeThickness="0"
          BackgroundColor="{AppThemeBinding Light={DynamicResource Background}, Dark={DynamicResource BackgroundDark}}"
          Padding="0">

    <!-- 全体レイアウト -->
    <Grid RowDefinitions="Auto,Auto, Auto, Auto, Auto"
          WidthRequest="600">
      <!-- ダイアログタイトル -->
      <Label Text="{Binding Source={x:Reference Root}, Path=Title}"
             FontSize="20"
             FontAttributes="Bold"
             Padding="15"
             BackgroundColor="{AppThemeBinding Light={DynamicResource Surface}, Dark={DynamicResource SurfaceDark}}"
             HorizontalTextAlignment="Center"
             HorizontalOptions="Fill"
             Grid.Row="0"/>
      <!-- プロジェクト情報 -->
      <Border Grid.Row="1"
              BackgroundColor="{AppThemeBinding Light={DynamicResource Background}, Dark={DynamicResource BackgroundDark}}"
              Padding="10"
              Margin="10"
              StrokeThickness="0"
              StrokeShape="RoundRectangle 10">
        <Grid RowDefinitions="Auto, Auto"
              RowSpacing="10">
          <material:TextField x:Name="ProjectNameEntry"
                              Title="プロジェクト名"
                              AllowClear="True">
            <validation:RequiredValidation/>
          </material:TextField>

          <material:TextField x:Name="ProjectDescriptionEditor"
                              Title="プロジェクトの説明"
                              AllowClear="True"
                              Grid.Row="2">
            <validation:RequiredValidation/>
          </material:TextField>
        </Grid>
      </Border>

      <!-- フォルダー選択 -->
      <Border Grid.Row="2"
              BackgroundColor="{AppThemeBinding Light={DynamicResource Background}, Dark={DynamicResource BackgroundDark}}"
              Padding="15"
              Margin="10"
              StrokeThickness="0"
              StrokeShape="RoundRectangle 10">

        <Grid RowDefinitions="Auto, Auto, Auto, Auto"
              RowSpacing="10">
          <Label Text="プロジェクトフォルダー"
                 TextColor="{AppThemeBinding Light={DynamicResource OnBackground}, Dark={DynamicResource OnBackgroundDark}}"/>
          <uranium:Dropdown x:Name="TopFolderDropdown"
                            WidthRequest="300"
                            TextColor="{AppThemeBinding Light={DynamicResource OnBackground}, Dark={DynamicResource OnBackgroundDark}}"
                            Placeholder="選択してください"
                            Grid.Row="1"/>

          <Label Text="個別画像フォルダー"
                 TextColor="{AppThemeBinding Light={DynamicResource OnBackground}, Dark={DynamicResource OnBackgroundDark}}"
                 Grid.Row="2"/>
          <uranium:Dropdown x:Name="CharaFolderDropdown"
                            WidthRequest="300"
                            TextColor="{AppThemeBinding Light={DynamicResource OnBackground}, Dark={DynamicResource OnBackgroundDark}}"
                            Placeholder="選択してください"
                            Grid.Row="3"/>
        </Grid>
      </Border>

      <!-- 区切り線 -->
      <BoxView Grid.Row="3"
               HeightRequest="1"
               BackgroundColor="{AppThemeBinding Light={DynamicResource Outline}, Dark={DynamicResource OutlineDark}}"/>

      <!-- ボタン -->
      <Grid Grid.Row="4"
            ColumnDefinitions="*,*"
            BackgroundColor="{AppThemeBinding Light={DynamicResource Background}, Dark={DynamicResource BackgroundDark}}"
            Padding="10"
            ColumnSpacing="10">

        <Button Text="OK"
                BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}"
                HorizontalOptions="End"
                Clicked="OnOkClicked"/>

        <Button Text="キャンセル"
                BackgroundColor="Transparent"
                TextColor="{AppThemeBinding Light={StaticResource Outline}, Dark={StaticResource OutlineDark}}"
                BorderColor="{AppThemeBinding Light={StaticResource Outline}, Dark={StaticResource OutlineDark}}"
                BorderWidth="2"
                HorizontalOptions="Start"
                Grid.Column="1"
                Clicked="OnCancelClicked"/>

      </Grid>
    </Grid>
  </Border>
</views:Popup>
