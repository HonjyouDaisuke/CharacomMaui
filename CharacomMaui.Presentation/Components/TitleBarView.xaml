<?xml version="1.0" encoding="utf-8" ?>
<ContentView
  x:Class="CharacomMaui.Presentation.Components.TitleBarView"
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

  <Grid Padding="0,0,10,0">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>

    <!-- Binding は Page の BindingContext をそのまま参照する -->
    <Label Text="{Binding TitleString}"
           VerticalOptions="Center"
           FontSize="24"/>

    <!-- ▼ Avatar -->
    <toolkit:AvatarView
      Text="{Binding AvatarString}"
      WidthRequest="40"
      HeightRequest="40"
      BorderWidth="0"
      Padding="0"
      HorizontalOptions="End"
      ImageSource="{Binding AvatarUrl}">
      <toolkit:AvatarView.GestureRecognizers>
        <TapGestureRecognizer Tapped="OnAvatarViewTapped"
                              NumberOfTapsRequired="1"/>
      </toolkit:AvatarView.GestureRecognizers>
    </toolkit:AvatarView>
  </Grid>
</ContentView>
