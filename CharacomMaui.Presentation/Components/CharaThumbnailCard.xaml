<?xml version="1.0" encoding="utf-8" ?>
<ContentView
  x:Class="CharacomMaui.Presentation.Components.CharaThumbnailCard"
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
  x:Name="Root">

  <ContentView.GestureRecognizers>
    <TapGestureRecognizer Tapped="OnCardTapped"/>
  </ContentView.GestureRecognizers>

  <Border
    x:Name="CardBorder"
    StrokeShape="RoundRectangle 8"
    StrokeThickness="0"
    BackgroundColor="{AppThemeBinding Light={DynamicResource Surface},
                                        Dark={DynamicResource SurfaceDark}}">
    <Grid
      Padding="10"
      RowDefinitions="Auto, Auto, Auto"
      RowSpacing="5">
      <Label
        x:Name="TitleLabel"
        FontSize="16"
        FontAttributes="Bold"
        VerticalOptions="Center"
        HorizontalOptions="Center"
        Text="{Binding Source={x:Reference Root}, Path=Title}"
        Grid.Row="0"/>

      <skia:SKCanvasView
        x:Name="CharaImage"
        WidthRequest="{Binding Source={x:Reference Root}, Path=CanvasWidth}"
        HeightRequest="{Binding Source={x:Reference Root}, Path=CanvasHeight}"
        PaintSurface="OnPaintCharaImageSurface"
        Grid.Row="1"/>
      <Label
        x:Name="CharaIdLabel"
        FontSize="16"
        FontAttributes="Bold"
        VerticalOptions="Center"
        HorizontalOptions="Center"
        Text="{Binding Source={x:Reference Root}, Path=CharaId}"
        Grid.Row="2"/>

    </Grid>
  </Border>
</ContentView>